import{a as w,S as x,i as h}from"./assets/vendor-LKfbwt14.js";(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))d(e);new MutationObserver(e=>{for(const s of e)if(s.type==="childList")for(const c of s.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&d(c)}).observe(document,{childList:!0,subtree:!0});function n(e){const s={};return e.integrity&&(s.integrity=e.integrity),e.referrerPolicy&&(s.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?s.credentials="include":e.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function d(e){if(e.ep)return;e.ep=!0;const s=n(e);fetch(e.href,s)}})();const S="47506069-50a24acca197abc732faaa7f2";async function u(r,a=1){return(await w("https://pixabay.com/api/",{params:{key:S,q:r,image_type:"photo",orientation:"horizontal",safesearch:!0,page:a,per_page:15}})).data}function g(r){return r.map(({largeImageURL:n,webformatURL:d,likes:e,views:s,comments:c,downloads:L,id:b,tags:v})=>`<li class="gallery-card" data-id="${b}">
      <a class="gallery-link" href="${n}">
  <img class="pixabay-img" src="${d}" alt="${v}" width="360" height="160"/>
  </a>
  <div class="wrapper-card-text">
  <p class="card-text">Likes <span>${e}</span></p>
   <p class="card-text">Views <span>${s}</span></p>
    <p class="card-text">Comments <span>${c}</span></p>
     <p class="card-text">Downloads <span>${L}</span></p>
  </div>
  </li>`).join("")}function f(){return new x(".gallery a",{captionsData:"alt",captionDelay:"250",className:"wrapper"}).refresh()}function q(){return h.show({theme:"dark",iconUrl:"../img/icons/alert.svg",imageWidth:"24px",position:"topRight",message:"Sorry, there are no images matching your search query. Please try again!",messageColor:"#fff",messageSize:"16px",messageLineHeight:"24px",backgroundColor:"#EF4040",timeout:5e3,displayMode:1})}function y(){return h.show({theme:"dark",iconUrl:"../img/icons/alert.svg",imageWidth:"24px",position:"topRight",message:" We are sorry, but you have reached the end of search results.",messageColor:"#fff",messageSize:"16px",messageLineHeight:"24px",backgroundColor:"#EF4040",timeout:5e3,displayMode:1})}const E=document.querySelector(".form-search-img"),p=document.querySelector(".gallery"),t=document.querySelector(".load-more-btn"),i=document.querySelector(".loader-is-hidden");let o=1,l,m;E.addEventListener("submit",M);async function M(r){if(r.preventDefault(),i.classList.replace("loader-is-hidden","loader"),t.classList.remove("load-more-visible"),o=1,m=r.target.elements.titleImage.value.trim(),!m){i.classList.replace("loader","loader-is-hidden");return}p.innerHTML="";try{const a=await u(m,o);if(i.classList.replace("loader","loader-is-hidden"),a.hits.length===0)throw i.classList.replace("loader","loader-is-hidden"),new Error("There are no images matching your search query");if(l=Math.ceil(a.totalHits/15),o>l)throw i.classList.replace("loader","loader-is-hidden"),new Error("Ran out of pictures");p.insertAdjacentHTML("beforeend",g(a.hits)),f(),t.classList.add("load-more-visible"),o===l&&t.classList.remove("load-more-visible")}catch(a){if(i.classList.replace("loader","loader-is-hidden"),t.classList.remove("load-more-visible"),a.message=="There are no images matching your search query")q();else if(a.message=="Ran out of pictures")y();else return h.error({position:"topRight",message:`We're sorry, we are have a problem...${a.message}`,displayMode:1})}finally{r.target.elements.titleImage.value=""}}t.addEventListener("click",async()=>{try{t.classList.remove("load-more-visible"),i.classList.replace("loader-is-hidden","loader"),o+=1;const r=await u(m,o);if(i.classList.replace("loader","loader-is-hidden"),t.classList.add("load-more-visible"),l=Math.ceil(r.totalHits/15),o>l)throw t.classList.remove("load-more-visible"),new Error;p.insertAdjacentHTML("beforeend",g(r.hits)),f();const n=document.querySelector(".gallery-card").getBoundingClientRect().height;if(window.scrollBy({left:0,top:n*2,behavior:"smooth"}),t.classList.add("load-more-visible"),o===l)throw t.classList.remove("load-more-visible"),new Error("The last page")}catch(r){if(i.classList.replace("loader","loader-is-hidden"),t.classList.remove("load-more-visible"),o>l||r.message==="The last page")return y()}});
//# sourceMappingURL=index.js.map
